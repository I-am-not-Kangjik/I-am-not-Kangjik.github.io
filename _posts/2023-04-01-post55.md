---
title: 재귀를 이용한 별 찍기(백준 2447번 문제 Python)
date: 2023-04-01 14:16:00 +0900
categories: [Python, Algorithm]
tags: [python, algorithm, boj, recursion]     # TAG names should always be lowercase
---

## 1. 문제

재귀적인 패턴으로 별을 찍는 문제

n은 3의 거듭제곱이고, 크기 n의 패턴은 n*n 정사각형 모양이다.

크기 3의 패턴은 가운데에 공백이 있고, 가운데를 제외한 모든 칸에 별이 하나씩 있는 패턴이다.

```
***
* *
***
```

n이 3보다 클 경우, 크기 n의 패턴은 공백으로 채워진 가운데의 (n/3)*(n/3) 정사각형을 크기 n/3의 패턴으로 둘러싼 형태이다. 예를들어 크기 27의 패턴은 다음과 같다.

```
***************************
* ** ** ** ** ** ** ** ** *
***************************
***   ******   ******   ***
* *   * ** *   * ** *   * *
***   ******   ******   ***
***************************
* ** ** ** ** ** ** ** ** *
***************************
*********         *********
* ** ** *         * ** ** *
*********         *********
***   ***         ***   ***
* *   * *         * *   * *
***   ***         ***   ***
*********         *********
* ** ** *         * ** ** *
*********         *********
***************************
* ** ** ** ** ** ** ** ** *
***************************
***   ******   ******   ***
* *   * ** *   * ** *   * *
***   ******   ******   ***
***************************
* ** ** ** ** ** ** ** ** *
***************************
```

## 2. 접근 방법

```python
n이 1일 경우 f(1)
*
n이 3일 경우 f(3)
***
* *
***
n이 9일 경우 f(9)
*********
* ** ** *
*********
***   ***
* *   * *
***   * *
*********
* ** ** *
*********

n이 k일 경우 f(k)
f(k/3)                f(k/3)              f(k/3)
f(k/3)        (k/3)*k(/3)의 공백            f(k/3)
f(k/3)                f(k/3)              f(k/3)

```

 

## 3. 코드

```python
def make_star(n):
    global ans
    
    if n == 3:
        ans[0][:3], ans[2][:3] = ['*', '*', '*'], ['*', '*', '*']
        ans[1][:3] = ['*', ' ', '*']
        return
    a = n//3
    make_star(a)
    for i in range(3):
        for j in range(3):
            if i == 1 and j == 1:
                continue
            for k in range(a):
                ans[a*i+k][a*j:a*j+a] = ans[k][0:a]

import sys

n = int(sys.stdin.readline())

ans = [[' ' for i in range(n)] for i in range(n)]

make_star(n)

for i in ans:
    for j in i:
        print(j, end='')
    print('')
```

## 4. 작동 방식

n을 입력받아 ans라는 n*n 크기의 2차원 배열을 만든다.

n이 3일 경우 문제에서 주어진 패턴을 넣는다.

```python

# n이 9일 경우 9*9의 ' '로 채워진 배열을 생성한 후
# a = n//3
# make_star(a)를 통해 다음과 같이 변환
ans = 
['*', '*', '*', ' ', ' ', ' ', ' ', ' ', ' ']
['*', '*', '*', ' ', ' ', ' ', ' ', ' ', ' ']
['*', '*', '*', ' ', ' ', ' ', ' ', ' ', ' ']
[' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ']
[' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ']
[' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ']
[' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ']
[' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ']
[' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ']

# 그 이후 반복문을 통해
# ans[0][0:3] = ans[0][0:3] 부터
# ans[1][0:3] = ans[1][0:3]
# ans[2][0:3] = ans[2][0:3]
# ans[0][3:6] = ans[0][0:3]
# ans[1][3:6] = ans[1][0:3]
# ans[2][3:6] = ans[2][0:3]
# ans[0][6:9] = ans[0][0:3]
# ans[1][6:9] = ans[1][0:3]
# ans[2][6:9] = ans[2][0:3]
# ans[3][0:3] = ans[0][0:3]
# ans[4][0:3] = ans[1][0:3]
# ans[5][0:3] = ans[2][0:3] ... 을 반복

# i == 1이며 j == 1일때는 continue 문을 통해 n*n 크기의 공백을 유지
```

## 5.  느낀 점

처음 아이디어를 떠올리는 데에는 어렵지 않았지만, 이 코드를 구현하는 데에 있어 어려움이 있었다.

3개의 중첩된 반목문을 이용하는 데에 어려움을 많이 겪어 다른 사람이 작성한 코드를 참고했다.

하지만 참고를 한 후에도 이해하는 데에 많은 시간이 소요됐다.

하나하나 디버깅을 해가며 이해할 수 있었어서 디버깅을 잘 활용해야겠다는 생각이 들었다.